% SaveDataFile% Script checks if file with name datafile already exists% If so, experimenter is asked whether to: % 	(1) overwrite the file, or % 	(2) temporarily save variables in varNames to file named 'TEMP' datafile '.mat'%% Created by Frank Tong % Last modified on 2001/07/08, last modified by JJ to save all variables in% workspace on 2007/07/17	cd(datadir) 								% change to data directoryif fopen([datafile '.mat'],'r') ~=-1;				% if file called fname already exists	Snd('Play','SimpleBeep');						% play sound warning	disp(['Warning! File already exists.']);		query = input('Do you want to overwrite this file?  y or n(default) ??  ','s');		if ~isempty(query) & query(1) == 'y'% 		eval(['save ' datafile ' ' varNames]);			% overwrite datafile        save(datafile)	else		% 		eval(['save TEMP' datafile ' ' varNames]);		% save new datafile with TEMP prefix		        save(['TEMP' datafile]);		disp(['File temporarily saved as "TEMP' datafile '.mat" PLEASE RENAME FILE!']);		endelse												% if no previous file exists% 	eval(['save ' datafile ' ' varNames]);			% save as datafile    save(datafile)	disp(['Data saved in ' datafile]);end		cd(expdir);